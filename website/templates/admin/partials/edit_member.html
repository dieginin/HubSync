<div class="modal fade" id="editMember{{ member.id }}" tabindex="-1" aria-labelledby="editMemberLabel{{ member.id }}"
    aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h1 class="modal-title fs-5" id="editMemberLabel{{ member.id }}">Edit Staff Member</h1>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <form id="edit-form-{{ member.id }}" method="POST"
                    action="{{ url_for('admin.edit_staff_member', user_id=member.id) }}">
                    <div class="mb-3">
                        <label for="display_name" class="form-label">Name</label>
                        <input type="text" class="form-control" id="display_name" name="display_name"
                            value="{{ member.display_name }}" required minlength="2">
                    </div>
                    <div class="mb-3">
                        <label for="email" class="form-label">Email</label>
                        <input type="email" class="form-control" id="email" name="email" value="{{ member.email }}"
                            required minlength="5" oninput="this.value = this.value.replace(/\s/g, '')">
                    </div>
                    <div class="mb-3">
                        <label for="username" class="form-label">Username</label>
                        <input type="text" class="form-control" id="username" name="username"
                            value="{{ member.username }}" required minlength="2"
                            oninput="this.value = this.value.replace(/\s/g, '')">
                    </div>
                    <div class="mb-3">
                        <label for="role" class="form-label">Role</label>
                        <select class="form-select" id="role" name="role" required {% if current_user.role
                            !='superadmin' %}disabled{% endif %}>
                            <option value="superadmin" {% if member.role=='superadmin' %}selected{% endif %}>
                                Super
                                Admin</option>
                            <option value="admin" {% if member.role=='admin' %}selected{% endif %}>Admin
                            </option>
                            <option value="member" {% if member.role=='member' %}selected{% endif %}>Member
                            </option>
                        </select>
                        {% if current_user.role != 'superadmin' %}
                        <input type="hidden" name="role" value="{{ member.role }}">
                        <small class="form-text text-muted">
                            <i class="bi bi-info-circle me-1"></i>
                            Only Super Admins can change user roles
                        </small>
                        {% endif %}
                    </div>
                </form>
            </div>
            <div class="modal-footer justify-content-center">
                <button type="submit" form="edit-form-{{ member.id }}" class="btn btn-primary">Save
                    Changes</button>
                <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Cancel</button>
            </div>
        </div>
    </div>
</div>